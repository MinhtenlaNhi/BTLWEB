extends ../../layouts/default.pug
include ../../mixins/box-alert.pug

block main 
    if(role.permissions.includes("account_edit"))
        - if(messages.error)
            +alert-error(messages.error)
        .accounts
            h1= message
            form(id="form-edit-account" method="POST" action=`${prefixAdmin}/accounts/edit-post/${user.id}?_method=PATCH` enctype="multipart/form-data")
                .form-group
                    label(for="fullName") Họ và tên*
                    input(type="text" class="form-control" id="fullName" name="fullName"  value=user.fullName )
                
                .form-group
                    label(for="email") Email*
                    textarea(class="form-control" id="email" rows="3" name="email" ) #{user.email}
                

                .form-group
                    label(for="password") Mật khẩu*
                    input(type="password" class="form-control" id="password" name="password" value=user.password)
                
                .form-group
                    label(for="phone") Số điện thoại
                    input(type="text" class="form-control" id="phone" name="phone"  value=user.phone)
                
                
                div(class="form-group" upload-image)
                    label(for="avartar") Avartar
                    input(upload-image-input type="file" class="form-control" name="avartar" accept="image/*" value="")
                    img(id="thumbnail-preview" src=user.avartar alt="" class="upload-image-preview")
                    
                .form-group
                    label(for="role") Phân quyền
                    select(class="form-control" name="role_id" id="role")
                        option(disabled value="" name=role_id selected) --Phân quyền--
                        each item in roles
                            option(id=item.id value=item.id name=item.role_id) #{item.title}           
                .form-check.d-inline-block.mr-3.my-3
                    input(class="form-check-input" type="radio" name="status" value="active" checked)
                    
                    label(class="form-check-label" for="status") Hoạt động
                    
                .form-check.d-inline-block.mr-3.my-3
                    input(class="form-check-input" type="radio" name="status" value="inactive")
                    
                    label(class="form-check-label" for="status") Dừng hoạt động
                

                button(type="submit" class="btn btn-primary d-block") Cập nhật

